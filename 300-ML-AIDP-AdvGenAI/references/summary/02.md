# Advanced Data Processing for Foundation Models 


1️⃣ 데이터 품질(Data Quality) 평가 지표

- ✔ 평가 항목
    - 데이터가 모델 입력으로 신뢰 가능한가?
    - 자동 검증이 파이프라인에 내장되어 있는가?

- 📈 핵심 지표
    - Completeness(완전성)
        - Missing value ratio (%)
    - Accuracy(정확성)
        - Content validation pass rate (%)
    - Consistency(일관성)
        - Schema/format violation count
    - Timeliness(적시성)
        - Data freshness (event time ↔ processing time)
- 운영 체크
    - Glue Data Quality 점수 (overall / rule별)
    - 품질 점수 추이(Trend)
    - 이상치 발생 빈도

2️⃣ 자동 검증 & 도메인 유효성 검사

- ✔ 평가 항목
    - 일반 규칙 + 도메인 규칙이 모두 적용되는가?
    - 실패 시 자동 대응이 가능한가?

- 📈 핵심 지표
    - Validation pass / fail ratio
    - Domain rule violation count
    - 평균 검증 지연 시간(ms)
    - 자동 remediation 성공률
- 운영 체크
    - Lambda validator 실행 횟수
    - 실패 원인 Top N
    - 알림 발생 빈도

3️⃣ 보안·프라이버시·컴플라이언스 지표

- ✔ 평가 항목
    - 규제 환경에서도 안전하게 쓸 수 있는가?
- 📈 핵심 지표
    - PII detection rate
    - Redaction success rate
    - Inappropriate content detection rate
    - Audit log completeness (%)
- 운영 체크
    - GDPR/HIPAA 관련 필드 커버리지
    - 데이터 lineage 추적 가능 여부
    - 규정 위반 이벤트 수

4️⃣ 멀티모달 파이프라인 처리 성능

- ✔ 평가 항목
    - 텍스트/이미지/오디오를 동기화된 흐름으로 처리하는가?
- 📈 핵심 지표
    - Modality별 처리 시간 (text / image / audio)
    - Sync point 대기 시간
    - 병렬 처리 성공률
    - 실패 시 재처리 비율
- 운영 체크
    - Parallel vs Sequential 처리 비율
    - Hybrid workflow 적용 여부
    - Step Functions 상태 전이 오류 수

5️⃣ 입력 최적화 & 토큰 효율성

- ✔ 평가 항목
    - 모델 비용과 성능을 동시에 관리하는가?
- 📈 핵심 지표
    - 평균 토큰 수 / 요청
    - 토큰 절감률 (%)
    - Prompt cache hit ratio
    - Payload 크기(bytes)
- 운영 체크
    - 프롬프트 캐싱 적용 여부
    - 슬라이딩 윈도우 요약 비율
    - 불필요한 context 포함 여부

6️⃣ 배치·동시성·처리량 지표

- ✔ 평가 항목
    - 트래픽 변화에 유연하게 대응하는가?
- 📈 핵심 지표
    - Batch size (동적/고정)
    - Throughput (items/sec)
    - Queue depth (min / avg / max)
    - 처리 대기 시간
- 운영 체크
    - Dynamic batch sizing 적용 여부
    - Lambda concurrency 활용률
    - SQS backlog 지속 시간

7️⃣ 캐싱 전략 성능 지표

- ✔ 평가 항목
    - 반복 요청을 효율적으로 줄이는가?
- 📈 핵심 지표
    - Cache hit ratio (목표: 80%+)
    - Cache miss 처리 시간
    - 캐시 계층별 hit 비율 (L1/L2/L3)
- 운영 체크
    - Cache key 설계 적절성
    - 캐시 무효화 빈도
    - 캐시로 절감된 비용 추정

8️⃣ 종단 간 성능(End-to-End Performance)

- ✔ 평가 항목
    - 사용자가 체감하는 성능이 안정적인가?
- 📈 핵심 지표
    - End-to-end latency (P50 / P95)
    - Regional latency 편차
    - Connection reuse ratio
    - Async 처리 비율
- 운영 체크
    - 지역별 배포 여부
    - Connection pooling 설정
    - Predictive scaling 적용 여부

9️⃣ 메모리·리소스 효율성

- ✔ 평가 항목
    - 리소스를 낭비 없이 쓰는가?
- 📈 핵심 지표
    - Peak memory usage
    - GC pause time
    - Object reuse ratio
    - Memory leak 발생 건수
- 운영 체크
    - Streaming 처리 여부
    - Lazy loading 적용 여부
    - Memory profiling 주기

🔟 ROI & 운영 성숙도 평가

- ✔ 평가 항목
    - 이 구조가 비즈니스적으로 이득인가?
- 📈 핵심 지표
    - 요청당 비용(cost/request)
    - 처리량 대비 비용 효율
    - 품질 저하 없이 비용 절감률
    - 자동화 비율 (manual intervention 감소율)
- 운영 체크
    - Measure → Analyze → Optimize → Validate → Monitor 루프 존재 여부
    - 성능/비용 의사결정 프레임워크 적용 여부

---

1️⃣ Answer 품질 지표 (최종 응답이 좋은가?)

| 지표                     | 의미                                  | 평가 대상               | 핵심 질문              | 주의점 / 해석 포인트                                 |
| ---------------------- | ----------------------------------- | ------------------- | ------------------ | -------------------------------------------- |
| **Answer Correctness** | 생성된 답변이 정답(ground truth)과 얼마나 일치하는가 | 최종 사용자에게 전달되는 응답 품질 | 결과적으로 맞는 답을 줬는가?   | Retrieval이 좋아도 생성 단계가 나쁘면 낮아짐<br>LLM 성능 영향 큼 |
| **Answer Similarity**  | 생성 답변과 정답 간 의미적 유사도                 | 표현 차이를 허용한 의미 비교    | 표현은 달라도 같은 말을 했는가? | 요약·서술형 QA에서 중요<br>자연어 표현 다양성 허용              |

2️⃣ Context 품질 지표 (Retrieved Knowledge 품질)

| 지표                        | 의미                                  | 핵심 질문              | 점수 낮을 때 신호                 | 주로 나타나는 원인         |
| ------------------------- | ----------------------------------- | ------------------ | -------------------------- | ------------------ |
| **Context Precision**     | 가져온 문서 중 실제로 답변에 도움이 된 비율           | 쓸데없는 문서가 많지 않은가?   | Retrieval 노이즈 증가<br>LLM 혼란 | chunk 과다, 필터링 부족   |
| **Context Recall**        | 정답에 필요한 정보가 context에 포함되었는가         | 필요한 정보를 빠뜨리지 않았는가? | 정보 누락                      | top-k 부족, 검색 범위 협소 |
| **Context Entity Recall** | 핵심 엔티티(이름, 수치, 개념)가 context에 포함되었는가 | 중요한 키워드를 놓치지 않았는가? | 핵심 정보 부재                   | 엔티티 인식/색인 문제       |

3️⃣ Faithfulness & Grounding (환각이 없는가?)

| 지표               | 의미                        | 핵심 질문                | 중요성         | 점수 낮을 때 의미                       |
| ---------------- | ------------------------- | -------------------- | ----------- | -------------------------------- |
| **Faithfulness** | 답변이 context에 근거해서만 생성되었는가 | 문서에 없는 말을 지어내지 않았는가? | ⭐ RAG 핵심 지표 | Hallucination 발생<br>RAG 실패 대표 원인 |

4️⃣ Relevancy (질문–응답 정합성)

| 지표                   | 의미                   | 핵심 질문         | 주의할 점                                    |
| -------------------- | -------------------- | ------------- | ---------------------------------------- |
| **Answer Relevancy** | 답변이 질문 의도에 얼마나 잘 맞는가 | 질문에 제대로 답했는가? | Correct해도 질문과 어긋날 수 있음<br>장황한 답변에서 특히 중요 |

5️⃣ 안전·품질 보조 지표 (확장 평가)

| 지표                | 의미                 | 사용 목적 / 환경       |
| ----------------- | ------------------ | ---------------- |
| **Harmfulness**   | 유해하거나 위험한 내용 포함 여부 | 엔터프라이즈, 책임 있는 AI |
| **Maliciousness** | 악의적 사용 가능성 여부      | 보안·컴플라이언스        |
| **Coherence**     | 문장이 논리적으로 자연스러운가   | 사용자 경험(UX)       |
| **Conciseness**   | 불필요하게 길지 않은가       | 비용 절감, 가독성 최적화   |
